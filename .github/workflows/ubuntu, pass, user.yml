name: C√†i ƒë·∫∑t giao di·ªán Ubuntu Desktop Gnome cho Ubuntu Server, k·∫øt n·ªëi qua Chrome Remote Desktop
run-name: Ch√†o m·ª´ng ${{ github.actor }} üöÄ
on:
  workflow_dispatch:
    inputs:
      
      os4:
        description: 'T·∫°o t√™n ng∆∞·ªùi d√πng ri√™ng'
        required: false
      os2:

        description: 'M·∫≠t kh·∫©u cho ng∆∞·ªùi d√πng b·∫°n ƒë√£ t·∫°o '

        required: false
      os3:
        description: 'Thay ƒë·ªïi m·∫≠t kh·∫©u root'
        required: false
      ps1:
        description: 'M√£ Debian Linux ·ªü Chrome Remote Dekstop '
        required: true
      os5:
        description: 'PIN cho Chrome Remote Desktop'

        required: true

jobs:
  Dang_Chay:
    timeout-minutes: 360
    runs-on: linux
    name: ƒêang ch·∫°y
    steps:
    - name: ƒêang ch·∫°y...
      run: |
            sleep 1
            wget -O rinne.deb https://dl.google.com/linux/direct/chrome-remote-desktop_current_amd64.deb &>/dev/null
            
            echo ƒêang c·∫≠p nh·∫≠t d·ªØ li·ªáu
            sudo apt update &>/dev/null
            echo B·∫Øt ƒë·∫ßu ch·∫°y
            sudo useradd -m ${{ github.event.inputs.os2 }} &>/dev/null &
            echo '${{ github.event.inputs.os4 }}:${{ github.event.inputs.os2 }}' | sudo chpasswd &>/dev/null &
            echo 'root:${{ github.event.inputs.os3 }}' | sudo chpasswd &>/dev/null &
            echo 'su:${{ github.event.inputs.os3 }}' | sudo chpasswd &>/dev/null &
            sudo sed -i 's/\/bin\/sh/\/bin\/bash/g' /etc/passwd &>/dev/null &
            sudo apt install ./rinne.deb -y &>/dev/null
            ${{ github.event.inputs.ps1 }} --pin=${{ github.event.inputs.os5 }} --user-name=${{ github.event.inputs.os4 }} &>/dev/null
            sudo apt install dbus dbus-x11 net-tools -y &>/dev/null
            sudo apt install ubuntu-desktop sudo nano gnome -y &>/dev/null
            echo Th√†nh c√¥ng!
            
